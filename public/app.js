const chatBox=document.getElementById("chat-box");const userInput=document.getElementById("user-input");const sendBtn=document.getElementById("send-btn");function addMessage(t,e="bot",n=[]){const s=document.createElement("div");s.classList.add("message",e),s.innerText=t;const a=document.createElement("div");if(a.appendChild(s),n.length>0){const t=document.createElement("div");t.classList.add("cta-buttons"),n.forEach(e=>{const n=document.createElement("a");n.href=e.url,n.target="_blank",n.innerText=e.text,t.appendChild(n)}),a.appendChild(t)}chatBox.appendChild(a),chatBox.scrollTop=chatBox.scrollHeight}async function sendMessage(){const t=userInput.value.trim();if(!t)return;addMessage(t,"user"),userInput.value="";const e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})}),n=await e.json();addMessage(n.answer||"Er ging iets mis.","bot",n.ctas||[])}sendBtn.addEventListener("click",sendMessage),userInput.addEventListener("keypress",(t=>{"Enter"===t.key&&sendMessage()})),addMessage("Hoi! Ik ben VANA ğŸ¤–. Waar ben je naar op zoek? (bijv. prijzen, WhatsApp, AVG)");